"use strict";(self.webpackChunkrciam_docs=self.webpackChunkrciam_docs||[]).push([[203],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(n),c=r,h=m["".concat(s,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5500:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return m}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={sidebar_position:2},s="Identity Providers",d={unversionedId:"developer/guide-for-idps",id:"developer/guide-for-idps",isDocsHomePage:!1,title:"Identity Providers",description:"This page contains information about integrating your identity provider (IdP)",source:"@site/docs/developer/guide-for-idps.md",sourceDirName:"developer",slug:"/developer/guide-for-idps",permalink:"/login-docs/docs/developer/guide-for-idps",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/developer/guide-for-idps.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Service Providers",permalink:"/login-docs/docs/developer/guide-for-sps"},next:{title:"Glossary",permalink:"/login-docs/docs/glossary"}},p=[{value:"Identity Provider integration workflow",id:"identity-provider-integration-workflow",children:[]},{value:"General requirements for integrating identity providers",id:"general-requirements-for-integrating-identity-providers",children:[{value:"Attribute release requirements",id:"attribute-release-requirements",children:[]},{value:"Operational and security requirements",id:"operational-and-security-requirements",children:[]},{value:"Branding requirements",id:"branding-requirements",children:[]}]},{value:"SAML Identity Provider",id:"saml-identity-provider",children:[{value:"Metadata registration",id:"metadata-registration",children:[]},{value:"Attribute release",id:"attribute-release",children:[]}]},{value:"OpenID Connect Identity Provider",id:"openid-connect-identity-provider",children:[{value:"Client registration",id:"client-registration",children:[]},{value:"Provider configuration",id:"provider-configuration",children:[]},{value:"Attribute release",id:"attribute-release-1",children:[]}]}],u={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"identity-providers"},"Identity Providers"),(0,i.kt)("p",null,"This page contains information about integrating your identity provider (IdP)\nwith RCIAM in order to allow users\nin your community to access RCIAM tools and services."),(0,i.kt)("h2",{id:"identity-provider-integration-workflow"},"Identity Provider integration workflow"),(0,i.kt)("p",null,"To integrate your Identity Provider with the RCIAM service, you need to\ncontact us at ",(0,i.kt)("inlineCode",{parentName:"p"},"faai")," ",(0,i.kt)("inlineCode",{parentName:"p"},"[AT]")," ",(0,i.kt)("inlineCode",{parentName:"p"},"grnet.gr")," indicating your request.\nThe integration follows a two-step process:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Register your Identity Provider and test integration with the demo\ninstance of RCIAM. The demo instance allows for testing\nauthentication and authorisation to RCIAM services and resources without\naffecting the production environment of RCIAM. Note that the demo\ninstance is not connected to the production service and no information is\nshared between the two systems."),(0,i.kt)("li",{parentName:"ol"},"Register your Identity Provider with the production instance of RCIAM\nto allow members of your Community to access production RCIAM services and\nresources protected by RCIAM.")),(0,i.kt)("p",null,"The most important URLs for each environment are listed in the table below but\nmore information can be found in the protocol-specific sections that follow."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Protocol"),(0,i.kt)("th",{parentName:"tr",align:null},"Demo environment"),(0,i.kt)("th",{parentName:"tr",align:null},"Production environment"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SAML"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://rciam-demo.example.org/proxy/module.php/saml/sp/metadata.php/sso"},"https://rciam-demo.example.org/proxy/module.php/saml/sp/metadata.php/sso")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"},"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"OpenID Connect"),(0,i.kt)("td",{parentName:"tr",align:null},"See ",(0,i.kt)("a",{parentName:"td",href:"#client-registration"},"client registration")),(0,i.kt)("td",{parentName:"tr",align:null},"See ",(0,i.kt)("a",{parentName:"td",href:"#client-registration"},"client registration"))))),(0,i.kt)("h2",{id:"general-requirements-for-integrating-identity-providers"},"General requirements for integrating identity providers"),(0,i.kt)("p",null,"An institution or a community may connect their IdP with RCIAM to allow their\nusers to access RCIAM services, or any other services that have enabled RCIAM\nas an authentication provider. This section presents the general requirements\nfor integrating an IdP with RCIAM, while protocol-specific instructions\nare provided in the sections that follow."),(0,i.kt)("h3",{id:"attribute-release-requirements"},"Attribute release requirements"),(0,i.kt)("p",null,"As a bare minimum, the IdP of a user's Home Organisation or Community is\nexpected to release a non-reassignable identifier that uniquely identifies the\nuser within the scope of that organisation or community. The unique identifier\nmust be accompanied with a minimum set of attributes which the RCIAM Service\nProvider Proxy will attempt to retrieve from the user's IdP. If this is not\npossible, the missing user attributes will be acquired and verified through the\nuser registration process with the RCIAM Account Registry. The following table\ndescribes the data requested from the user's Home Organisation, which are\ncommunicated to the RCIAM SP as either SAML attributes or OIDC claims,\ndepending on the protocol supported by the authenticating IdP."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"At least one of the following unique user identifiers:",(0,i.kt)("ol",null,(0,i.kt)("li",null,"pseudonymous, non-targeted identifier;"),(0,i.kt)("li",null,"name-based, non-targeted identifier;"),(0,i.kt)("li",null,"pseudonymous, targeted identifier"))),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Preferred name for display purposes"),(0,i.kt)("td",{parentName:"tr",align:null},"For example to be used in a greeting or a descriptive listing")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"First name"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Surname"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Email address"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Affiliation within Home Organisation or Community"),(0,i.kt)("td",{parentName:"tr",align:null},"To be released ",(0,i.kt)("strong",{parentName:"td"},"only")," if relevant for accessing RCIAM services")))),(0,i.kt)("p",null,"Note that the above set of requested attributes, particularly the identifier,\nname, email and affiliation information, complies with the\n",(0,i.kt)("a",{parentName:"p",href:"https://refeds.org/category/research-and-scholarship"},"REFEDS R&S attribute bundle"),"."),(0,i.kt)("p",null,"Information about group membership and role information released by your IdP\nshould follow the URN scheme below (see also\n",(0,i.kt)("a",{parentName:"p",href:"https://aarc-community.org/guidelines/aarc-g002"},"AARC-G002"),"):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"<NAMESPACE>:group:<GROUP>[:<SUBGROUP>*][:role=<ROLE>]#<GROUP-AUTHORITY>\n")),(0,i.kt)("p",null,"where:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<NAMESPACE>")," is in the form of\n",(0,i.kt)("inlineCode",{parentName:"li"},"urn:<NID>:<DELEGATED-NAMESPACE>[:<SUBNAMESPACE>*]"),", where",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<NID>")," is the namespace identifier associated with a URN namespace\nregistered with\n",(0,i.kt)("a",{parentName:"li",href:"https://www.iana.org/assignments/urn-namespaces/urn-namespaces.xhtml"},"IANA"),",\nas per RFC8141, ensuring global uniqueness. Implementers can and should use\none of the existing registered URN namespaces, such as\n",(0,i.kt)("a",{parentName:"li",href:"https://www.geant.org/Services/Trust_identity_and_security/Pages/NamespaceRegistry.aspx"},(0,i.kt)("inlineCode",{parentName:"a"},"urn:geant")),"\nand\n",(0,i.kt)("a",{parentName:"li",href:"https://www.internet2.edu/products-services/trust-identity/mace-registries/urnmace-namespace/"},(0,i.kt)("inlineCode",{parentName:"a"},"urn:mace")),";"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<DELEGATED-NAMESPACE>")," is a URN sub-namespace delegated from one of the\nIANA registered NIDs")))),(0,i.kt)("p",null,"to an organisation representing the e-infrastructure, research infrastructure or\nresearch collaboration."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<GROUP>")," is the name of a VO, research collaboration or a top level arbitrary\ngroup. ",(0,i.kt)("inlineCode",{parentName:"li"},"<GROUP>")," names are unique within the ",(0,i.kt)("inlineCode",{parentName:"li"},"urn:mace:example.org:group"),"\nnamespace;"),(0,i.kt)("li",{parentName:"ul"},"zero or more ",(0,i.kt)("inlineCode",{parentName:"li"},"<SUBGROUP>")," components represent the hierarchy of subgroups in\nthe ",(0,i.kt)("inlineCode",{parentName:"li"},"<GROUP>"),"; specifying sub-groups is optional"),(0,i.kt)("li",{parentName:"ul"},"the optional ",(0,i.kt)("inlineCode",{parentName:"li"},"<ROLE>")," component is scoped to the rightmost (sub)group; if no\ngroup information is specified, the role applies to the VO"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<GROUP-AUTHORITY>")," is a non-empty string that indicates the authoritative\nsource for the entitlement value. For example, it can be the FQDN of the group\nmanagement system that is responsible for the identified group membership\ninformation")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Example entitlement values expressing VO/group membership and role\ninformation:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"urn:geant:aai-community:group:aai-example-group:role=member#aai-community.example.org\nurn:geant:aai-community:group:aai-example-group:role=vm_operator#aai-community.example.org\n")),(0,i.kt)("h3",{id:"operational-and-security-requirements"},"Operational and security requirements"),(0,i.kt)("p",null,"The IdP needs to comply with additional requirements to achieve a higher level\nof assurance and allow its users to gain access to a wider set of RCIAM services.\nA first group of additional requirements are defined by the\n",(0,i.kt)("a",{parentName:"p",href:"https://refeds.org/wp-content/uploads/2016/01/Sirtfi-1.0.pdf"},"Sirtfi framework v1.0"),".\nAdherence to these requirements can be asserted by publishing Sirtfi\ncompliance in the eduGAIN metadata. These requirements are in the\nareas of operational security, incident response, traceability and IdPs and\nusers responsibility."),(0,i.kt)("h3",{id:"branding-requirements"},"Branding requirements"),(0,i.kt)("p",null,'RCIAM provides a central Discovery Service (or "Where Are You From" - WAYF)\npage where users in your Home Organisation or Community will be automatically\nredirected when necessary to select to authenticate at your IdP. You can provide\nus with a logo of your Organisation or Community (in high-res png or preferably\nin svg format) to include a dedicated login button that will allow users to\neasily identify your IdP.'),(0,i.kt)("h2",{id:"saml-identity-provider"},"SAML Identity Provider"),(0,i.kt)("p",null,"To allow users in your community to sign into RCIAM applications, you\nneed to connect to the RCIAM AAI SP Proxy as a SAML Identity Provider (IdP). Users\nof the application will be redirected to the central Discovery Service page of\nthe RCIAM AAI Proxy where they will able to select to authenticate at your IdP.\nOnce the user is authenticated, the RCIAM AAI Proxy will return a SAML assertion\nto the application containing the information returned by your IdP about the\nauthenticated user."),(0,i.kt)("h3",{id:"metadata-registration"},"Metadata registration"),(0,i.kt)("p",null,"SAML authentication relies on the use of metadata. Both parties (you as an IdP\nand the RCIAM AAI SP) need to exchange metadata in order to know and trust each\nother. The metadata include information such as the location of the service\nendpoints that need to be invoked, as well as the certificates that will be used\nto sign SAML messages. The format of the exchanged metadata should be based on\nthe XML-based\n",(0,i.kt)("a",{parentName:"p",href:"https://docs.oasis-open.org/security/saml/v2.0/saml-metadata-2.0-os.pdf"},"SAML 2.0 specification"),".\nUsually, you will not need to manually create such an XML document, as this is\nautomatically generated by all major SAML 2.0 IdP software solutions (e.g.,\nShibboleth, SimpleSAMLphp). It is important that you serve your metadata over\nHTTPS using a browser-friendly SSL certificate, i.e. issued by a trusted\ncertificate authority."),(0,i.kt)("p",null,"To exchange metadata, please send an email including the following information:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"entityID")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Metadata URL"))),(0,i.kt)("p",null,"Depending on the software you are using, the authoritative XML metadata URL for\nyour IdP might be in the following form:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://your.idp.example.eu/idp/shibboleth")," (Shibboleth)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://your.idp.example.eu/simplesaml/module.php/saml2/idp/metadata.php"),"\n(SimpleSAMLphp)")),(0,i.kt)("p",null,"Note that if your IdP is part of a federation, then it would be preferred to\nsend us the URL to a signed federation metadata aggregate. We can then cherry\npick the appropriate entityID from that."),(0,i.kt)("p",null,"You can get the metadata of the RCIAM SP Proxy on a dedicated URL that\ndepends on the integration environment being used:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Demo environment"),(0,i.kt)("th",{parentName:"tr",align:null},"Production environment"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://rciam-demo.example.org/proxy/module.php/saml/sp/metadata.php/sso"},"https://rciam-demo.example.org/proxy/module.php/saml/sp/metadata.php/sso")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"},"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"))))),(0,i.kt)("p",null,"For the production environment, it is recommended that you get the metadata for\nthe RCIAM SP (entityID:\n",(0,i.kt)("a",{parentName:"p",href:"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"},"https://rciam.example.org/proxy/module.php/saml/sp/metadata.php/sso"),")\nfrom a signed eduGAIN metadata aggregate. For example, the following aggregates\nare provided by GRNET:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://md.aai.grnet.gr/aggregates/grnet-metadata.xml"},"GRNET federation\\'s metadata")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://md.aai.grnet.gr/feeds/edugain-sp-samlmd.xml"},"eduGAIN SP metadata"))),(0,i.kt)("h3",{id:"attribute-release"},"Attribute release"),(0,i.kt)("p",null,"The SAML based Identity Provider of your Home Organisation or Community is\nexpected to release a non-reassignable identifier that uniquely identifies the\nuser within the scope of that organisation or community, along with a set of\nadditional information as described in the following table (see also\n",(0,i.kt)("a",{parentName:"p",href:"#attribute-release-requirements"},"general attribute release requirements"),"):"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"SAML attribute"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"At least one of the following unique user identifiers:",(0,i.kt)("ol",null,(0,i.kt)("li",null,"pseudonymous, non-targeted identifier;"),(0,i.kt)("li",null,"name-based, non-targeted identifier;"),(0,i.kt)("li",null,"pseudonymous, targeted identifier"))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("ol",null,(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"SubjectID")," (public) or ",(0,i.kt)("inlineCode",{parentName:"td"},"eduPersonUniqueId")),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"eduPersonPrincipalName")),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"SubjectID")," (pairwise) or ",(0,i.kt)("inlineCode",{parentName:"td"},"eduPersonTargetedID")," or SAML persistent identifier")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Preferred name for display purposes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"displayName"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"First name"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"givenName"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Surname"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"sn"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Email address"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"mail"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Affiliation within Home Organisation or Community"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"eduPersonScopedAffiliation"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Group(s)/role(s) within Home Organisation or Community"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"eduPersonEntitlement"))))),(0,i.kt)("h2",{id:"openid-connect-identity-provider"},"OpenID Connect Identity Provider"),(0,i.kt)("p",null,"Users in your community can sign into RCIAM applications through the\nRCIAM service using your OpenID Connect or OAuth 2.0 based Identity Provider."),(0,i.kt)("h3",{id:"client-registration"},"Client registration"),(0,i.kt)("p",null,"To enable your OIDC Identity Provider for user login, RCIAM needs to be\nregistered as a client in order to obtain OAuth 2.0 credentials, such as a\nclient ID and client secret, and to register one or more redirect URIs. Once\nRCIAM is registered as a client, your users will be redirected to the central\nDiscovery Service page of RCIAM when logging into RCIAM applications,\nwhere they will able to select to authenticate at your IdP. Once the user is\nauthenticated, RCIAM will be responsible for communicating the information\nreturned by your IdP about the authenticated user to the connected application.\nDepending on the protocol, this information will be expressed through a SAML\nassertion, a set of OIDC claims or a (proxy) X.509 certificate."),(0,i.kt)("h3",{id:"provider-configuration"},"Provider configuration"),(0,i.kt)("p",null,"RCIAM needs to obtain your OpenID Provider\\'s configuration information,\nincluding the location of the Authorisation, Token and UserInfo endpoints. Your\nOpenID Provider is expected to make a JSON document available at the path formed\nby concatenating the string ",(0,i.kt)("inlineCode",{parentName:"p"},"/.well-known/openid-configuration")," to the Issuer,\nfollowing the\n",(0,i.kt)("a",{parentName:"p",href:"https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig"},"OpenID Connect Discovery 1.0 specification"),"."),(0,i.kt)("h3",{id:"attribute-release-1"},"Attribute release"),(0,i.kt)("p",null,"The OpenID Connect or OAuth 2.0 based Identity Provider of your Home\nOrganisation or Community is expected to release a non-reassignable identifier\nthat uniquely identifies the user within the scope of that organisation or\ncommunity, along with a set of additional information as described in the\nfollowing table (see also\n",(0,i.kt)("a",{parentName:"p",href:"#attribute-release-requirements"},"general attribute release requirements"),"):"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"OIDC claim"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"At least one of the following unique user identifiers:",(0,i.kt)("ol",null,(0,i.kt)("li",null,"pseudonymous, non-targeted identifier;"),(0,i.kt)("li",null,"name-based, non-targeted identifier;"),(0,i.kt)("li",null,"pseudonymous, targeted identifier"))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("ol",null,(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"sub")," (public)"),(0,i.kt)("li",null,"N/A"),(0,i.kt)("li",null,(0,i.kt)("inlineCode",{parentName:"td"},"sub")," (pairwise)")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Preferred name for display purposes"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"name"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"First name"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"given_name"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Surname"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"family_name"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Email address"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"email"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Affiliation within Home Organisation or Community"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"eduperson_scoped_affiliation"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Group(s)/role(s) within Home Organisation or Community"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"eduPerson_entitlement"))))))}m.isMDXComponent=!0}}]);