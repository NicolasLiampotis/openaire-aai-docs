"use strict";(self.webpackChunkrciam_docs=self.webpackChunkrciam_docs||[]).push([[64],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=o,f=m["".concat(l,".").concat(d)]||m[d]||c[d]||i;return n?r.createElement(f,a(a({ref:t},p),{},{components:n})):r.createElement(f,a({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9966:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return p},default:function(){return m}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],s={sidebar_position:2},l="VO group/role information",u={unversionedId:"manager/expressing-vo-information",id:"manager/expressing-vo-information",isDocsHomePage:!1,title:"VO group/role information",description:"According to AARC-G002 the",source:"@site/docs/manager/expressing-vo-information.md",sourceDirName:"manager",slug:"/manager/expressing-vo-information",permalink:"/login-docs/docs/manager/expressing-vo-information",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/manager/expressing-vo-information.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Virtual Organisations",permalink:"/login-docs/docs/manager/virtual-organisations"},next:{title:"VOMS",permalink:"/login-docs/docs/manager/voms"}},p=[{value:"Entitlement Construction",id:"entitlement-construction",children:[{value:"VO(COU)",id:"vocou",children:[]},{value:"VO Groups (sub COUs)",id:"vo-groups-sub-cous",children:[]}]}],c={toc:p};function m(e){var t=e.components,s=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"vo-grouprole-information"},"VO group/role information"),(0,i.kt)("p",null,"According to ",(0,i.kt)("a",{parentName:"p",href:"https://aarc-community.org/guidelines/aarc-g002/"},"AARC-G002")," the\ninformation about the groups a user is a member of is commonly used by Service\nProviders in order to authorise user access to protected resources.The entity\nresponsible for disseminating this information is the RCIAM AAI proxy and\nthe format used is that of a URN namespace, called eduPersonEntitlement, that is\nuniformly interpreted across infrastructures."),(0,i.kt)("p",null,"The general form of the eduPersonEntitlement string is:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"<NAMESPACE>:group:<VO>[:<GROUP>*][:role=<ROLE>]#<GROUP-AUTHORITY>")),(0,i.kt)("p",null,"As a result, an eduPersonEntitlement string informing the Service Provider that\nthe user has the role Associate in the vo.example.eu VO (modelled as a COU) is:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"urn:mace:example.org:group:vo.example.eu:role=associate#rciam.example.org")),(0,i.kt)("h2",{id:"entitlement-construction"},"Entitlement Construction"),(0,i.kt)("p",null,"For the case of the CO Person with a profile/canvas, like the one provided\nabove, we expect to get entitlements for all the entries listed under the tab\nRole Attributes. Additionally, we will get entitlements for all the General\nPurpose(GP) Groups enlisted under the tab Groups. These GP Groups have no\nprefix, neither CO: nor CO:COU, and no postfix, neither active nor all."),(0,i.kt)("h3",{id:"vocou"},"VO(COU)"),(0,i.kt)("p",null,"For each entry in the table Role Attributes, that is in status ",(0,i.kt)("strong",{parentName:"p"},"Active")," or\n",(0,i.kt)("strong",{parentName:"p"},"Grace Period"),", we create one eduPersonEntitlement for each different Role and\nfor the Affiliation. For example, the CO Person from above is affiliated as\nMember to the VO vo.example.eu and has been assigned the role of an Associate.\nThis will generate two entitlements as:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"urn:mace:example.org:group:vo.example.eu:role=associate#rciam.example.org")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"urn:mace:example.org:group:vo.example.eu:role=member#rciam.example.org")),(0,i.kt)("h3",{id:"vo-groups-sub-cous"},"VO Groups (sub COUs)"),(0,i.kt)("p",null,"There are occasions where we need a VO to be organized in subgroups. For example\nvo.example.eu contains the sub-COU vo.example-sub.eu."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"VO subgroup",src:n(8158).Z})),(0,i.kt)("p",null,"The CO Person is affiliated as member and with the Role of Support in the VO\nsub-group vo.example-sub.eu:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"VO subgroup membership",src:n(5993).Z})),(0,i.kt)("p",null,"In such occasions the eduPersonEntitlement will have the following structure:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"urn:mace:example.org:group:vo.example.eu:vo.example-sub.eu:role=support#rciam.example.org")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"urn:mace:example.org:group:vo.example.eu:vo.examples-sub.eu:role=member#rciam.example.org")))}m.isMDXComponent=!0},5993:function(e,t,n){t.Z=n.p+"assets/images/vo-subgroup-membership-90e4ed3a22e5c623d93619382987bdbf.png"},8158:function(e,t,n){t.Z=n.p+"assets/images/vo-subgroup-8697409b41e1ad6d0372d01b9cc91c47.png"}}]);